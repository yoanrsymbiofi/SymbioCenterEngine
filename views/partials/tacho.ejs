<div class="cadre" style="border-radius:10px;padding:8px;margin:5px">
    <h4>Tachogramme</h4>
    <div id="chartTacho" style="width: 100%;height:260px"></div>
    <div id="maxBpm">test</div>
</div>
<script>
    var rrList = "";
    var ccList = "";
    var chartTacho = new CanvasJS.Chart("chartTacho", {
        theme: "light2",
        animationEnabled: true,
        zoomEnabled: true,
        axisY: {
            includeZero: false
        },
        axisX: {
        },
        data: [{
                type: "line",
                dataPoints: []
            }]
    });

    chartTacho.render();

    function setTachoData() {
        console.log(rrList);
        $.ajax({
            url: "https://127.0.0.1/expert/calc_cc",
//            url: "calc_cc",
            data: {
                rr_list: rrList
            },
            success: function (data) {
                console.log("data " + data);
                var jsonData = JSON.parse(data);
                $("#maxBpm").html(jsonData.cc);
                drawChartCC(jsonData.cc);
                chartTacho.options.axisX.viewportMaximum = (jsonData.tacho.length * 250);
                chartTacho.options.axisX.viewportMinimum = (chartTacho.options.axisX.viewportMaximum - 20000);
                chartTacho.options.data[0].dataPoints = jsonData.tacho;
                chartTacho.render();
            }
        });
    }
</script>